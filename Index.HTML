<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ruleta Casino</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background-image: url("fondo-casino.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color:#000; /* fallback si no carga */
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Arial Black',Arial;
  overflow:hidden;
}

.wrapper{
  position:relative;
  width:700px;
  height:760px;
  text-align:center;
}

.title-top{
  color:#fff;
  font-size:26px;
  letter-spacing:2px;
}

/* Flecha */
.arrow{
  position:absolute;
  top:70px;
  left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:18px solid transparent;
  border-right:18px solid transparent;
  border-bottom:30px solid red;
  z-index:20;
}

/* ===== RULETA ===== */
.wheel-wrapper{
  position:relative;
  width:520px;
  height:520px;
  margin:40px auto 0;
}

.wheel{
  width:100%;
  height:100%;
  border-radius:50%;
  background:repeating-conic-gradient(
    #1e4fa1 0deg 22.5deg,
    #173b7a 22.5deg 45deg
  );
  box-shadow:inset 0 0 40px rgba(0,0,0,.7);
  transition:transform 4s cubic-bezier(.17,.67,.17,1);
}

/* Centro con logo */
.wheel-center{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:110px;
  height:110px;
  border-radius:50%;
  background:radial-gradient(circle at top,#ffffff,#cfe2ff);
  border:4px solid #f2c46d;
  box-shadow:
    0 0 25px rgba(242,196,109,.9),
    inset 0 0 15px rgba(0,0,0,.25);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:30;
  pointer-events:none;
}

.wheel-center img{
  width:100%;
  height:100%;
  object-fit:contain;
}

/* ===== CARTEL PREMIO ===== */
.slot-box{
  position:absolute;
  top:360px;
  left:50%;
  transform:translateX(-50%);
  width:360px;
  height:160px;
  background:#0f2a55;
  border:3px solid #f2c46d;
  border-radius:18px;
  box-shadow:0 0 30px rgba(242,196,109,.6);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:40;
}

.slot-inner{
  text-align:center;
  color:white;
}

.slot-inner span{
  font-size:18px;
  letter-spacing:2px;
  color:#b9dcff;
}

.slot-inner strong{
  display:block;
  margin-top:6px;
  font-size:32px;
  color:#f2c46d;
}

/* Animaciones */
@keyframes popIn{
  0%{transform:translateX(-50%) scale(.4);opacity:0}
  70%{transform:translateX(-50%) scale(1.1)}
  100%{transform:translateX(-50%) scale(1);opacity:1}
}

.slot-box.win{
  animation:popIn .6s ease-out;
}

/* Confeti */
.particle{
  position:absolute;
  width:10px;
  height:10px;
  background:gold;
  border-radius:50%;
  pointer-events:none;
  animation:fall 1.8s linear forwards;
}

@keyframes fall{
  0%{transform:translateY(-40px);opacity:1}
  100%{transform:translateY(600px);opacity:0}
}

/* Botones */
.buttons{
  margin-top:25px;
}

button{
  padding:12px 26px;
  margin:0 8px;
  border:none;
  border-radius:10px;
  font-weight:bold;
  font-size:16px;
  cursor:pointer;
  background:#00b3ff;
}

.wheel-icons{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
}

.wheel-icon{
  position:absolute;
  top:50%;
  left:50%;
  width:46px;
  height:46px;
  transform-origin:50% calc(100% + 160px);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  filter:drop-shadow(0 0 6px rgba(0,0,0,.6));
}

</style>
</head>

<body>

<div class="wrapper">
  <div class="title-top"></div>

  <div class="arrow"></div>

  <div class="wheel-wrapper">
    <div id="wheel" class="wheel"></div>
<div class="wheel-icons" id="wheelIcons"></div>


    <div class="wheel-center">
      <img src="logo.png" alt="Logo">
    </div>
  </div>

  <div class="slot-box" id="slot">
    <div class="slot-inner">
      <span id="slotTitle"></span>
      <strong id="slotValue"></strong>
    </div>
  </div>

  <div class="buttons">
    <button onclick="spin()">Girar</button>
    <button onclick="resetGame()">Reiniciar</button>
  </div>
</div>

<audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-slot-machine-spin-1930.mp3"></audio>
<audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>

<script>
let rotation = 0;

const prizes = [
  { type:"lose", title:"", text:"GRACIAS POR PARTICIPAR" },
  { type:"merch", title:"Â¡FELICITACIONES!", text:"MERCH OFICIAL" },
  { type:"fs", title:"SENSATIONAL!", value:30 },
  { type:"fs", title:"SENSATIONAL!", value:50 },
  { type:"fs", title:"SENSATIONAL!", value:100 }
];

function spin(){
  document.getElementById("slot").style.display = "none";
  document.getElementById("spinSound").play();

  rotation += Math.floor(Math.random()*360) + 1440;
  document.getElementById("wheel").style.transform =
    `rotate(${rotation}deg)`;

  setTimeout(showResult, 4000);
}

function showResult(){
  const prize = prizes[Math.floor(Math.random()*prizes.length)];
  const slot = document.getElementById("slot");
  const title = document.getElementById("slotTitle");
  const value = document.getElementById("slotValue");

  slot.style.display = "flex";
  slot.classList.remove("win");
  void slot.offsetWidth;
  slot.classList.add("win");

  title.textContent = prize.title;

  if(prize.type === "fs"){
    value.textContent = `${prize.value} FREE SPINS`;
    document.getElementById("winSound").play();
    spawnParticles();
  } else {
    value.textContent = prize.text;
    if(prize.type === "merch"){
      document.getElementById("winSound").play();
      spawnParticles();
    }
  }
}

function spawnParticles(){
  for(let i=0;i<30;i++){
    const p=document.createElement("div");
    p.className="particle";
    p.style.left=Math.random()*window.innerWidth+"px";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),1800);
  }
}

function resetGame(){
  rotation = 0;
  document.getElementById("wheel").style.transform = "rotate(0deg)";
  document.getElementById("slot").style.display = "none";
}
</script>

</body>
</html>
